<% 
  mobile ||= false
  flowbite_style ||= false
  
  # Configuração centralizada para ambos os estilos
  menu_items = {
    standard: [
      { path: root_path, title: 'Início', icon: 'M3 12l2-2m0 0l7-7 7 7m-14 0l2 2m0 0l7 7 7-7m-14 0l2-2' },
      { path: public_sobre_path, title: 'Sobre', icon: 'M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },
      { path: public_servico_path, title: 'Serviços', icon: 'M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z' },
      { path: public_contato_path, title: 'Contato', icon: 'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z' }
    ],
    flowbite: [
      { title: 'Home', path: root_path },
      { title: 'Serviços', path: public_servico_path },
      { title: 'Sobre', path: public_sobre_path },
      { title: 'Preços', path: public_precos_path },
      { title: 'Contato', path: public_contato_path }
    ]
  }
%>

<% if flowbite_style %>
  <% if mobile %>
    <% menu_items[:flowbite].each_with_index do |item, i| %>
      <li class="">
        <%= link_to item[:title], 
            item[:path], 
            class: "block py-2 px-3 text-white text-center font-medium text-base
                   #{i == 0 ? 'bg-purple-700' : ''}
                   rounded-lg transition-all duration-200 ease-in-out
                   hover:bg-purple-600 hover:scale-105 hover:shadow-lg
                   whitespace-nowrap" %>
      </li>
    <% end %>
  <% else %>
    <div class="flex justify-center items-center gap-2 md:gap-4 mx-auto p-2 overflow-x-auto max-w-screen-xl">
      <% menu_items[:flowbite].each do |item| %>
        <%= link_to item[:path], 
            class: "block py-2 px-3 md:px-4 text-white rounded-lg
                   transition-all duration-200 hover:scale-105
                   text-center font-medium text-base md:text-lg
                   whitespace-nowrap shrink-0" do %>
          <%= item[:title] %>
        <% end %>
      <% end %>
    </div>
  <% end %>
<% else %>
  <ul class="<%= mobile ? 'flex flex-col p-2' : 'flex gap-4 p-2 overflow-x-auto max-w-screen-xl mx-auto' %>">
    <% menu_items[:standard].each do |link| %>
      <li class="shrink-0">
        <%= link_to link[:path], 
            class: "block px-3 md:px-4 py-2 text-white hover:bg-purple-700 rounded-lg 
                   transition-colors duration-200 whitespace-nowrap 
                   text-base md:text-lg" do %>
          <%= link[:title] %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% end %>
